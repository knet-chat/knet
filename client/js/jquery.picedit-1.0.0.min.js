!function($,window,document,undefined){"use strict";function Plugin(element,options){this.inputelement=element,this.element=element,this.options=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this._image=!1,this._filename="",this._variables={},this._template(this.options.navToolsEnabled)}var pluginName="picEdit",defaults={imageUpdated:function(img){},formSubmitted:function(res){},redirectUrl:!1,maxWidth:"auto",maxHeight:"auto",minWidth:"auto",minHeight:"auto",displayWidth:"auto",displayHeight:"auto",aspectRatio:!0,defaultImage:function(){},navToolsEnabled:!0,onImageCreation:function(){},onNativeCameraInit:function(sourceType,callback){},isMobile:!1};Plugin.prototype={init:function(){function build_img_from_file(files){if(files||files.length){var file=files[0];_this._filename||(_this._filename=file.name);var reader=new FileReader;reader.onload=function(e){_this._create_image_with_datasrc(e.target.result,!1,file)},reader.readAsDataURL(file)}}var _this=this,type=$(this.inputelement).prop("type");if("file"==type?this._fileinput=$(this.inputelement):($(this.inputelement).after('<input type="file" style="display:none" accept="image/*;capture=camera">'),this._fileinput=$(this.inputelement).next("input")),!this.check_browser_capabilities())return"file"!=type&&($(this.inputelement).prop("type","file"),$(this._fileinput).remove()),$(this.inputelement).show(),void $(this.element).remove();if(this._canvas=$(this.element).find(".picedit_canvas > canvas")[0],this._ctx=this._canvas.getContext("2d"),this._videobox=$(this.element).find(".picedit_video"),this._painter=$(this.element).find(".picedit_painter"),this._painter_canvas=this._painter.children("canvas")[0],this._painter_ctx=this._painter_canvas.getContext("2d"),this._painter_painting=!1,this._messagebox=$(this.element).find(".picedit_message"),this._messagetimeout=!1,this._mainbuttons=$(this.element).find(".picedit_action_btns"),this._viewport={width:0,height:0},this._cropping={is_dragging:!1,is_resizing:!1,left:0,top:0,width:0,height:0,cropbox:$(this.element).find(".picedit_drag_resize"),cropframe:$(this.element).find(".picedit_drag_resize_box")},$(this.element).find(".picedit_canvas_box").on("drop",function(event){event.preventDefault(),$(this).removeClass("dragging");var files=(event.dataTransfer||event.originalEvent.dataTransfer).files;build_img_from_file(files)}).on("dragover",function(event){event.preventDefault(),$(this).addClass("dragging")}).on("dragleave",function(event){event.preventDefault(),$(this).removeClass("dragging")}),$(this._fileinput).on("change",function(){build_img_from_file(this.files)}),!window.Clipboard){var pasteCatcher=$(document.createElement("div"));pasteCatcher.prop("contenteditable","true").css({position:"absolute",left:-999,width:0,height:0,overflow:"hidden",outline:0,opacity:0}),$(document.body).prepend(pasteCatcher)}$(document).on("paste",function(event){var blob,items=(event.clipboardData||event.originalEvent.clipboardData).items;if(items){for(var i=0;i<items.length;i++)0===items[i].type.indexOf("image")&&(blob=items[i].getAsFile());if(blob){var reader=new FileReader;reader.onload=function(e){_this._create_image_with_datasrc(e.target.result)},reader.readAsDataURL(blob)}}else pasteCatcher.get(0).focus(),pasteCatcher.on("DOMSubtreeModified",function(){var child=pasteCatcher.children().last().get(0);pasteCatcher.html(""),child&&("IMG"===child.tagName&&"data:"==child.src.substr(0,5)?_this._create_image_with_datasrc(child.src):"IMG"===child.tagName&&"http"==child.src.substr(0,4)&&_this._create_image_with_datasrc(child.src,!1,!1,!0))})}),this._theformdata=!1,this._bindControlButtons(),this._bindInputVariables(),this._bindSelectionDrag(),this._variables.pen_color="black",this._variables.pen_size=!1,this._variables.prev_pos=!1,this.options.defaultImage&&_this.set_default_image(this.options.defaultImage),"auto"!=this.options.displayWidth&&$(this.element).css({width:this.options.displayWidth,height:this.options.displayHeight})},check_browser_capabilities:function(){return 0!=!!window.CanvasRenderingContext2D&&!!window.FileReader},set_default_image:function(datasrc){var _this=this,img=document.createElement("img");img.setAttribute("crossOrigin","anonymous"),img.src=datasrc,img.onload=function(){var imageAux=null,canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");canvas.width=img.width,canvas.height=img.height,ctx.drawImage(img,0,0,canvas.width,canvas.height),imageAux=document.createElement("img"),imageAux.src=canvas.toDataURL("image/jpg"),_this._image=imageAux,_this._resizeViewport(),_this._paintCanvas(),$(_this.element).find(".picedit_nav_box").addClass("active")}},hide_messagebox:function(){var msgbox=this._messagebox;msgbox.removeClass("active no_close_button"),setTimeout(function(){msgbox.children("div").html("")},200)},set_loading:function(message){return message&&1==message?this.set_messagebox("Working...",!1,!1):this.set_messagebox("Please Wait...",!1,!1)},set_messagebox:function(text,autohide,closebutton){autohide="undefined"!=typeof autohide?autohide:3e3,closebutton="undefined"==typeof closebutton||closebutton;var classes="active";if(closebutton||(classes+=" no_close_button"),autohide){clearTimeout(this._messagetimeout);var _this=this;this._messagetimeout=setTimeout(function(){_this.hide_messagebox()},autohide)}return this._messagebox.addClass(classes).children("div").html(text)},toggle_button:function(elem){if($(elem).hasClass("active")){var value=!1;$(elem).removeClass("active")}else{var value=!0;$(elem).siblings().removeClass("active"),$(elem).addClass("active")}var variable=$(elem).data("variable");if(variable){var optional_value=$(elem).data("value");optional_value||(optional_value=$(elem).val()),optional_value&&value&&(value=optional_value),this._setVariable(variable,value)}this._variables.pen_color&&this._variables.pen_size?this.pen_tool_open():this.pen_tool_close()},load_image:function(){var _this=this;this.options.isMobile?this.options.onNativeCameraInit("PHOTOLIBRARY",function(datasrc){_this._create_image_with_datasrc(datasrc,!1,!0),console.log("DEBUG ::: load_image ::: "+datasrc)}):this._fileinput.click()},pen_tool_open:function(){return this._image?(this.pen_tool_params_set(),this._painter.addClass("active"),void this._hideAllNav()):this._hideAllNav(1)},pen_tool_params_set:function(){this._painter_canvas.width=0,this._painter_canvas.width=this._canvas.width,this._painter_canvas.height=this._canvas.height,this._painter_ctx.lineJoin="round",this._painter_ctx.lineCap="round",this._painter_ctx.strokeStyle=this._variables.pen_color,this._painter_ctx.lineWidth=this._variables.pen_size},pen_tool_close:function(){this._painter.removeClass("active")},rotate_ccw:function(){if(!this._image)return this._hideAllNav(1);var _this=this;this.set_loading(1).delay(200).promise().done(function(){_this._doRotation(-90),_this._resizeViewport(),_this.hide_messagebox()}),this._hideAllNav()},rotate_cw:function(){if(!this._image)return this._hideAllNav(1);var _this=this;this.set_loading(1).delay(200).promise().done(function(){_this._doRotation(90),_this._resizeViewport(),_this.hide_messagebox()}),this._hideAllNav()},resize_image:function(){if(!this._image)return this._hideAllNav(1);var _this=this;this.set_loading(1);var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");canvas.width=_this._viewport.width,canvas.height=_this._viewport.height,ctx.drawImage(_this._image,0,0,canvas.width,canvas.height),"image/png"==_this._getImageFormat(_this._image)?_this._create_image_with_datasrc(canvas.toDataURL("image/png"),_this.hide_messagebox(),!1,!1,!0):_this._create_image_with_datasrc(canvas.toDataURL("image/jpeg"),_this.hide_messagebox(),!1,!1,!0),this._hideAllNav()},camera_open:function(){var _this=this;if(this.options.isMobile)this.options.onNativeCameraInit("CAMERA",function(datasrc){_this._create_image_with_datasrc(datasrc,!1,!0)});else{var getUserMedia,browserUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!browserUserMedia)return this.set_messagebox("Sorry, your browser doesn't support WebRTC!");getUserMedia=browserUserMedia.bind(navigator),getUserMedia({audio:!1,video:!0},function(stream){var videoElement=_this._videobox.find("video")[0];videoElement.src=URL.createObjectURL(stream),videoElement.onloadedmetadata=function(){videoElement.videoWidth&&videoElement.videoHeight&&(_this._image||(_this._image={}),_this._image.width=videoElement.videoWidth,_this._image.height=videoElement.videoHeight,_this._resizeViewport())},_this._videobox.addClass("active")},function(err){return _this.set_messagebox("No video source detected! Please allow camera access!")})}},camera_close:function(){this.options.isMobile||this._videobox.removeClass("active")},take_photo:function(){if(!this.options.isMobile){var _this=this,live=this._videobox.find("video")[0],canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");canvas.width=live.clientWidth,canvas.height=live.clientHeight,ctx.drawImage(live,0,0,canvas.width,canvas.height),_this._videobox.removeClass("active"),this._create_image_with_datasrc(canvas.toDataURL("image/jpeg"),function(){_this._videobox.removeClass("active")})}},crop_image:function(){var crop=this._calculateCropWindow(),_this=this;this.set_loading(1).delay(200).promise().done(function(){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");canvas.width=_this._image.width,canvas.height=_this._image.height,ctx.drawImage(_this._image,crop.left,crop.top,crop.width,crop.height,0,0,_this._image.width,_this._image.height),_this._create_image_with_datasrc(canvas.toDataURL("image/jpeg"),function(){_this.hide_messagebox()})}),this.crop_close()},crop_open:function(){return this._image?(this._cropping.cropbox.addClass("active"),this._hideAllNav(),void this._mainbuttons.removeClass("active")):this._hideAllNav(1)},crop_close:function(){this._cropping.cropbox.removeClass("active")},_create_image_with_datasrc:function(datasrc,callback,file,dataurl,withoutcall2resize){this.options.onImageCreation&&this.options.onImageCreation();var _this=this,img=document.createElement("img");dataurl&&img.setAttribute("crossOrigin","anonymous"),file&&(img.file=file),img.src=datasrc,img.onload=function(){var imageAux=null;if("undefined"!=typeof img.file&&"image/gif"==img.file.type&&(dataurl=!1,withoutcall2resize=!0),dataurl){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");canvas.width=img.width,canvas.height=img.height,ctx.drawImage(img,0,0,canvas.width,canvas.height),imageAux=document.createElement("img"),"image/png"==_this._getImageFormat(img)?imageAux.src=canvas.toDataURL("image/png"):imageAux.src=canvas.toDataURL("image/jpg")}_this._image=null!=imageAux?imageAux:img,_this._resizeViewport(),withoutcall2resize?(_this._paintCanvas(),_this.options.imageUpdated(_this._image),_this._mainbuttons.addClass("active"),$(_this.element).find(".picedit_nav_box").addClass("active"),callback&&"function"==typeof callback&&callback()):(_this.resize_image(),callback&&"function"==typeof callback&&callback())}},_getImageFormat:function(img){var format="image/jpg";return"undefined"!=typeof img.file&&("image/gif"==img.file.type&&(format="image/gif"),"image/png"==img.file.type&&(format="image/png")),"undefined"!=typeof img.src&&("data:image/gif"==img.src.substr(0,14)&&(format="image/gif"),"data:image/png"==img.src.substr(0,14)&&(format="image/png")),format},_bindSelectionDrag:function(){var _this=this,eventbox=this._cropping.cropframe,painter=this._painter,resizer=this._cropping.cropbox.find(".picedit_drag_resize_box_corner_wrap");$(window).on("mousedown touchstart",function(e){var evtpos=e.clientX?e:e.originalEvent.touches[0];_this._cropping.x=evtpos.clientX,_this._cropping.y=evtpos.clientY,_this._cropping.w=eventbox[0].clientWidth,_this._cropping.h=eventbox[0].clientHeight,eventbox.on("mousemove touchmove",function(event){event.stopPropagation(),event.preventDefault(),_this._cropping.is_dragging=!0,_this._cropping.is_resizing||_this._selection_drag_movement(event)}),resizer.on("mousemove touchmove",function(event){event.stopPropagation(),event.preventDefault(),_this._cropping.is_resizing=!0,_this._selection_resize_movement(event)}),painter.on("mousemove touchmove",function(event){event.stopPropagation(),event.preventDefault(),_this._painter_painting=!0,_this._painter_movement(event)})}).on("mouseup touchend",function(){_this._painter_painting&&_this._painter_merge_drawing(),_this._cropping.is_dragging=!1,_this._cropping.is_resizing=!1,_this._painter_painting=!1,_this._variables.prev_pos=!1,eventbox.off("mousemove touchmove"),resizer.off("mousemove touchmove"),painter.off("mousemove touchmove")})},_selection_resize_movement:function(e){var cropframe=this._cropping.cropframe[0],evtpos=e.clientX?e:e.originalEvent.touches[0];cropframe.style.width=this._cropping.w+evtpos.clientX-this._cropping.x+"px",cropframe.style.height=this._cropping.h+evtpos.clientY-this._cropping.y+"px"},_selection_drag_movement:function(e){var cropframe=this._cropping.cropframe[0],evtpos=e.pageX?e:e.originalEvent.touches[0];this._cropping.cropframe.offset({top:evtpos.pageY-parseInt(cropframe.clientHeight/2,10),left:evtpos.pageX-parseInt(cropframe.clientWidth/2,10)})},_painter_movement:function(e){var pos={},target=e.target||e.srcElement,rect=target.getBoundingClientRect(),evtpos=e.clientX?e:e.originalEvent.touches[0];return pos.x=evtpos.clientX-rect.left,pos.y=evtpos.clientY-rect.top,this._variables.prev_pos?(this._painter_ctx.beginPath(),this._painter_ctx.moveTo(this._variables.prev_pos.x,this._variables.prev_pos.y),this._painter_ctx.lineTo(pos.x,pos.y),this._painter_ctx.stroke(),void(this._variables.prev_pos=pos)):this._variables.prev_pos=pos},_painter_merge_drawing:function(){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),_this=this;canvas.width=this._image.width,canvas.height=this._image.height,ctx.drawImage(this._image,0,0,canvas.width,canvas.height),ctx.drawImage(this._painter_canvas,0,0,canvas.width,canvas.height),canvas.width>1280&&canvas.height>800?this.set_loading().delay(200).promise().done(function(){_this._create_image_with_datasrc(canvas.toDataURL("image/jpeg"),function(){_this.pen_tool_params_set(),_this.hide_messagebox()})}):this._create_image_with_datasrc(canvas.toDataURL("image/jpeg"),function(){_this.pen_tool_params_set()})},_hideAllNav:function(message){message&&1==message&&this.set_messagebox("Open an image or use your camera to make a photo!"),$(this.element).find(".picedit_nav_box").removeClass("active").find(".picedit_element").removeClass("active")},_paintCanvas:function(){this._canvas.width=this._viewport.width,this._canvas.height=this._viewport.height,this._ctx.drawImage(this._image,0,0,this._viewport.width,this._viewport.height),$(this.element).find(".picedit_canvas").css("display","block")},_calculateCropWindow:function(){var view=this._viewport,cropframe=this._cropping.cropframe[0],real={width:this._image.width,height:this._image.height},crop={width:cropframe.clientWidth,height:cropframe.clientHeight,top:cropframe.offsetTop>0?cropframe.offsetTop:.1,left:cropframe.offsetLeft>0?cropframe.offsetLeft:.1};crop.width+crop.left>view.width&&(crop.width=view.width-crop.left),crop.height+crop.top>view.height&&(crop.height=view.height-crop.top);var width_percent=crop.width/view.width,height_percent=crop.height/view.height,area={width:parseInt(real.width*width_percent,10),height:parseInt(real.height*height_percent,10)},top_percent=crop.top/view.height,left_percent=crop.left/view.width;return area.top=parseInt(real.height*top_percent,10),area.left=parseInt(real.width*left_percent,10),area},_doRotation:function(degrees){var newWidth,newHeight,rads=degrees*Math.PI/180,c=Math.cos(rads),s=Math.sin(rads);s<0&&(s=-s),c<0&&(c=-c),newWidth=this._image.height*s+this._image.width*c,newHeight=this._image.height*c+this._image.width*s;var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");canvas.width=parseInt(newWidth,10),canvas.height=parseInt(newHeight,10);var cx=canvas.width/2,cy=canvas.height/2;ctx.clearRect(0,0,canvas.width,canvas.height),ctx.translate(cx,cy),ctx.rotate(rads),ctx.drawImage(this._image,-this._image.width/2,-this._image.height/2),this._image.src=canvas.toDataURL("image/jpeg"),this._paintCanvas(),this.options.imageUpdated(this._image)},_resizeViewport:function(){var img=this._image,viewport={width:img.width,height:img.height};if("auto"!=this.options.maxWidth&&img.width>this.options.maxWidth&&(viewport.width=this.options.maxWidth),"auto"!=this.options.maxHeight&&img.height>this.options.maxHeight&&(viewport.height=this.options.maxHeight),"auto"!=this.options.minWidth&&img.width<this.options.minWidth&&(viewport.width=this.options.minWidth),"auto"!=this.options.minHeight&&img.height<this.options.minHeight&&(viewport.height=this.options.minHeight),this.options.aspectRatio){var resizeWidth=img.width,resizeHeight=img.height,aspect=resizeWidth/resizeHeight;resizeWidth>viewport.width&&(viewport.width=parseInt(viewport.width,10),viewport.height=parseInt(viewport.width/aspect,10)),resizeHeight>viewport.height&&(aspect=resizeWidth/resizeHeight,viewport.height=parseInt(viewport.height,10),viewport.width=parseInt(viewport.height*aspect,10))}$(this.element).css({width:viewport.width,height:viewport.height}),this._viewport=viewport,this._setVariable("resize_width",img.width),this._setVariable("resize_height",img.height)},_bindControlButtons:function(){var _this=this;$(this.element).find(".picedit_control").bind("click",function(){var action=$(this).data("action");action?_this[action](this):$(this).hasClass("picedit_action")&&($(this).parent(".picedit_element").toggleClass("active").siblings(".picedit_element").removeClass("active"),$(this).parent(".picedit_element").hasClass("active")?$(this).closest(".picedit_nav_box").addClass("active"):$(this).closest(".picedit_nav_box").removeClass("active"))})},_bindInputVariables:function(){var _this=this;$(this.element).find(".picedit_input").bind("change keypress paste input",function(){var variable=$(this).data("variable");if(variable){var value=$(this).val();_this._variables[variable]=value}if(("resize_width"==variable||"resize_height"==variable)&&_this._variables.resize_proportions){var aspect=_this._image.width/_this._image.height;"resize_width"==variable?_this._setVariable("resize_height",parseInt(value/aspect,10)):_this._setVariable("resize_width",parseInt(value*aspect,10))}})},_setVariable:function(variable,value){this._variables[variable]=value,$(this.element).find('[data-variable="'+variable+'"]').val(value)},_formsubmit:function(){},_template:function(navToolsEnabled){var template;template=navToolsEnabled?'<div class="picedit_box"> <div class="picedit_message"> <span class="picedit_control ico-picedit-close" data-action="hide_messagebox"></span> <div> </div></div> <div class="picedit_nav_box picedit_gray_gradient"> <div class="picedit_pos_elements"> </div> <div class="picedit_nav_elements"> <div class="picedit_element"> <span class="picedit_control picedit_action ico-picedit-pencil" title="Pen Tool"></span> <div class="picedit_control_menu"> <div class="picedit_control_menu_container picedit_tooltip picedit_elm_3"> <label class="picedit_colors"> <span title="Black" class="picedit_control picedit_action picedit_black active" data-action="toggle_button" data-variable="pen_color" data-value="black"></span> <span title="Red" class="picedit_control picedit_action picedit_red" data-action="toggle_button" data-variable="pen_color" data-value="red"></span> <span title="Green" class="picedit_control picedit_action picedit_green" data-action="toggle_button" data-variable="pen_color" data-value="green"></span> </label> <label> <span class="picedit_separator"></span> </label> <label class="picedit_sizes"> <span title="Large" class="picedit_control picedit_action picedit_large" data-action="toggle_button" data-variable="pen_size" data-value="16"></span> <span title="Medium" class="picedit_control picedit_action picedit_medium" data-action="toggle_button" data-variable="pen_size" data-value="8"></span> <span title="Small" class="picedit_control picedit_action picedit_small" data-action="toggle_button" data-variable="pen_size" data-value="3"></span> </label> </div></div></div> <div class="picedit_element"> <span class="picedit_control picedit_action ico-picedit-insertpicture" title="Crop" data-action="crop_open"></span> </div> <div class="picedit_element"> <span class="picedit_control picedit_action ico-picedit-redo" title="Rotate"></span> <div class="picedit_control_menu"> <div class="picedit_control_menu_container picedit_tooltip picedit_elm_1"> <label> <span>90Â° </span> <span class="picedit_control picedit_action ico-picedit-redo" data-action="rotate_cw"></span> </label>  </div></div></div> </div> </div> <div class="picedit_canvas_box"> <div class="picedit_painter"> <canvas></canvas> </div> <div class="picedit_canvas"> <canvas></canvas> </div> <div class="picedit_action_btns active"> <div class="picedit_control ico-picedit-picture" data-action="load_image"> </div> <div class="picedit_control ico-picedit-camera" data-action="camera_open"> </div> <div class="center"></div> </div> </div> <div class="picedit_video"> <video autoplay></video> <div class="picedit_video_controls"> <span class="picedit_control picedit_action ico-picedit-checkmark" data-action="take_photo"></span><span class="picedit_control picedit_action ico-picedit-close" data-action="camera_close"></span></div></div> <div class="picedit_drag_resize"> <div class="picedit_drag_resize_canvas"></div> <div class="picedit_drag_resize_box"> <div class="picedit_drag_resize_box_corner_wrap"> <div class="picedit_drag_resize_box_corner"></div> </div> <div class="picedit_drag_resize_box_elements"><span class="picedit_control picedit_action ico-picedit-checkmark" data-action="crop_image"></span><span class="picedit_control picedit_action ico-picedit-close" data-action="crop_close"></span></div></div></div> </div>':'<div class="picedit_box"> <div class="picedit_message"> <span class="picedit_control ico-picedit-close" data-action="hide_messagebox"></span> <div> </div></div> <div class="picedit_nav_box picedit_gray_gradient"> <div class="picedit_pos_elements"> </div> <div class="picedit_nav_elements"> <div class="picedit_element"> </div> <div class="picedit_element"> </div> <div class="picedit_element"> </div> </div> </div> <div class="picedit_canvas_box"> <div class="picedit_painter"> <canvas></canvas> </div> <div class="picedit_canvas"> <canvas></canvas> </div> <div class="picedit_action_btns active"> <div class="picedit_control ico-picedit-picture" data-action="load_image"> </div> <div class="picedit_control ico-picedit-camera" data-action="camera_open"> </div> <div class="center"></div> </div> </div> <div class="picedit_video"> <video autoplay></video> <div class="picedit_video_controls"> <span class="picedit_control picedit_action ico-picedit-checkmark" data-action="take_photo"></span><span class="picedit_control picedit_action ico-picedit-close" data-action="camera_close"></span></div></div> <div class="picedit_drag_resize"> <div class="picedit_drag_resize_canvas"></div> <div class="picedit_drag_resize_box"> <div class="picedit_drag_resize_box_corner_wrap"> <div class="picedit_drag_resize_box_corner"></div> </div> <div class="picedit_drag_resize_box_elements"><span class="picedit_control picedit_action ico-picedit-checkmark" data-action="crop_image"></span><span class="picedit_control picedit_action ico-picedit-close" data-action="crop_close"></span></div></div></div> </div>';var _this=this;$(this.inputelement).hide().after(template).each(function(){_this.element=$(_this.inputelement).next(".picedit_box"),_this.init()})}},$.fn[pluginName]=function(options){var args=arguments;if(options===undefined||"object"==typeof options)return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,options))});if("string"==typeof options&&"_"!==options[0]&&"init"!==options){var returns;return this.each(function(){var instance=$.data(this,"plugin_"+pluginName);instance instanceof Plugin&&"function"==typeof instance[options]&&(returns=instance[options].apply(instance,Array.prototype.slice.call(args,1))),"destroy"===options&&$.data(this,"plugin_"+pluginName,null)}),returns!==undefined?returns:this}}}(jQuery,window,document);
//# sourceMappingURL=sourcemap.map