!function(root,factory){"function"==typeof define&&define.amd?define(["cldr","cldr/event"],factory):"object"==typeof exports?module.exports=factory(require("cldrjs")):root.Globalize=factory(root.Cldr)}(this,function(Cldr){function validateLikelySubtags(cldr){cldr.once("get",validateCldr),cldr.get("supplemental/likelySubtags")}function Globalize(locale){return this instanceof Globalize?(validateParameterPresence(locale,"locale"),validateParameterTypeLocale(locale,"locale"),this.cldr=alwaysCldr(locale),void validateLikelySubtags(this.cldr)):new Globalize(locale)}var toString=function(variable){return"string"==typeof variable?variable:"number"==typeof variable?""+variable:JSON.stringify(variable)},formatMessage=function(message,data){return message=message.replace(/{[0-9a-zA-Z-_. ]+}/g,function(name){return name=name.replace(/^{([^}]*)}$/,"$1"),toString(data[name])})},objectExtend=function(){var destination=arguments[0],sources=[].slice.call(arguments,1);return sources.forEach(function(source){var prop;for(prop in source)destination[prop]=source[prop]}),destination},createError=function(code,message,attributes){var error;return message=code+(message?": "+formatMessage(message,attributes):""),error=new Error(message),error.code=code,objectExtend(error,attributes),error},stringHash=function(str){return[].reduce.call(str,function(hash,i){var chr=i.charCodeAt(0);return hash=(hash<<5)-hash+chr,0|hash},0)},runtimeKey=function(fnName,locale,args,argsStr){var hash;return argsStr=argsStr||JSON.stringify(args),hash=stringHash(fnName+locale+argsStr),hash>0?"a"+hash:"b"+Math.abs(hash)},runtimeBind=function(args,cldr,fn,runtimeArgs){var argsStr=JSON.stringify(args),locale=cldr.locale;return fn.runtimeKey=runtimeKey(fn.name,locale,null,argsStr),fn.generatorString=function(){return'Globalize("'+locale+'").'+fn.name+"("+argsStr.slice(1,-1)+")"},fn.runtimeArgs=runtimeArgs,fn},validate=function(code,message,check,attributes){if(!check)throw createError(code,message,attributes)},alwaysArray=function(stringOrArray){return Array.isArray(stringOrArray)?stringOrArray:stringOrArray?[stringOrArray]:[]},validateCldr=function(path,value,options){var skipBoolean;options=options||{},skipBoolean=alwaysArray(options.skip).some(function(pathRe){return pathRe.test(path)}),validate("E_MISSING_CLDR","Missing required CLDR content `{path}`.",value||skipBoolean,{path:path})},validateDefaultLocale=function(value){validate("E_DEFAULT_LOCALE_NOT_DEFINED","Default locale has not been defined.",void 0!==value,{})},validateParameterPresence=function(value,name){validate("E_MISSING_PARAMETER","Missing required parameter `{name}`.",void 0!==value,{name:name})},validateParameterRange=function(value,name,minimum,maximum){validate("E_PAR_OUT_OF_RANGE","Parameter `{name}` has value `{value}` out of range [{minimum}, {maximum}].",void 0===value||value>=minimum&&value<=maximum,{maximum:maximum,minimum:minimum,name:name,value:value})},validateParameterType=function(value,name,check,expected){validate("E_INVALID_PAR_TYPE","Invalid `{name}` parameter ({value}). {expected} expected.",check,{expected:expected,name:name,value:value})},validateParameterTypeLocale=function(value,name){validateParameterType(value,name,void 0===value||"string"==typeof value||value instanceof Cldr,"String or Cldr instance")},isPlainObject=function(obj){return null!==obj&&""+obj=="[object Object]"},validateParameterTypePlainObject=function(value,name){validateParameterType(value,name,void 0===value||isPlainObject(value),"Plain Object")},alwaysCldr=function(localeOrCldr){return localeOrCldr instanceof Cldr?localeOrCldr:new Cldr(localeOrCldr)},regexpEscape=function(string){return string.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},stringPad=function(str,count,right){var length;for("string"!=typeof str&&(str=String(str)),length=str.length;length<count;length+=1)str=right?str+"0":"0"+str;return str};return Globalize.load=function(){Cldr.load.apply(Cldr,arguments)},Globalize.locale=function(locale){return validateParameterTypeLocale(locale,"locale"),arguments.length&&(this.cldr=alwaysCldr(locale),validateLikelySubtags(this.cldr)),this.cldr},Globalize._alwaysArray=alwaysArray,Globalize._createError=createError,Globalize._formatMessage=formatMessage,Globalize._isPlainObject=isPlainObject,Globalize._objectExtend=objectExtend,Globalize._regexpEscape=regexpEscape,Globalize._runtimeBind=runtimeBind,Globalize._stringPad=stringPad,Globalize._validate=validate,Globalize._validateCldr=validateCldr,Globalize._validateDefaultLocale=validateDefaultLocale,Globalize._validateParameterPresence=validateParameterPresence,Globalize._validateParameterRange=validateParameterRange,Globalize._validateParameterTypePlainObject=validateParameterTypePlainObject,Globalize._validateParameterType=validateParameterType,Globalize});
//# sourceMappingURL=sourcemap.map